<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJO Web Channel</title>
    <link rel="stylesheet" href="../assets/css/simple-grid.min.css">
    <script>
        !function (n, o) {
            o.forEach(function (o) {
                n[o] || ((n.__alloyNS = n.__alloyNS ||
                    []).push(o), n[o] = function () {
                    var u = arguments;
                    return new Promise(
                        function (i, l) {
                            n[o].q.push([i, l, u])
                        })
                }, n[o].q = [])
            })
        }
        (window, ["alloy"]);
    </script>
    <script>
        // Datastream:  829e31a8-2b82-4e7d-8a3b-74f3c97e9dde
        // https://experience.adobe.com/#/@aemonacpprodcampaign/sname:prod/data-collection/scramjet/829e31a8-2b82-4e7d-8a3b-74f3c97e9dde/

        const alloyOption = {
            edgeConfigId: '829e31a8-2b82-4e7d-8a3b-74f3c97e9dde',
            orgId: '906E3A095DC834230A495FD6@AdobeOrg',
            debugEnabled: true,
            onBeforeEventSend: () => {
                console.log('>>>>>>> onBeforeEventSend');
            },
            onBeforeLinkClickSend: () => {
                console.log('>>>>>>> onBeforeLinkClickSend');
            },
        };
        alloy('configure', alloyOption).then(() => {
            console.log('>>>>>>> alloy is configured');

            const url = new URL(window.location.href);
            const email = url.searchParams.get('email');

            if (!!email) {
                console.log('>>>>>>> email: ' + email);

                alloy('sendEvent', {
                    'renderDecisions': true,
                    // xdm: {
                    //     identityMap: {
                    //         Email: [
                    //             {
                    //                 id: email,
                    //                 primary: true,
                    //             }
                    //         ]
                    //     }
                    // }
                });
            } else {
                alloy('sendEvent', {'renderDecisions': true });
            }
        });


    </script>
    <script src='https://cdn1.adoberesources.net/alloy/2.18.0/alloy.min.js' async></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-12 center">
            <h1>AJO Web Channel</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div id="ajo-content-div">
                <div id="ab-test">Add Promotion 1 Here</div>
                <p id="campaign-url-1">
                    Campaign
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur id ex a urna eleifend venenatis.
                    Pellentesque pellentesque non velit sed commodo. Etiam vestibulum id lorem at consectetur. Fusce non
                    ante et nulla semper varius ut ac eros. Vivamus id posuere nunc, eget molestie quam. Aliquam erat
                    volutpat. Donec pharetra mi justo, scelerisque sagittis libero mollis at. Quisque quis turpis
                    lectus. Suspendisse tristique, nunc a ultricies elementum, est velit tempor est, et tempor nunc
                    turpis at justo.
                </p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div id="ajo-content-div-2">
                <div id="campaign-2">Add Promotion 2 Here</div>
                <a href="ajo-convert.html">Buy Now</a>
                <p id="campaign-url-2">
                    Campaign
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur id ex a urna eleifend venenatis.
                    Pellentesque pellentesque non velit sed commodo. Etiam vestibulum id lorem at consectetur. Fusce non
                    ante et nulla semper varius ut ac eros. Vivamus id posuere nunc, eget molestie quam. Aliquam erat
                    volutpat. Donec pharetra mi justo, scelerisque sagittis libero mollis at. Quisque quis turpis
                    lectus. Suspendisse tristique, nunc a ultricies elementum, est velit tempor est, et tempor nunc
                    turpis at justo.
                </p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div id="ajo-content-div-3">
                <div id="campaign-3">Click me</div>
                <p id="campaign-url-3">
                    Campaign
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur id ex a urna eleifend venenatis.
                    Pellentesque pellentesque non velit sed commodo. Etiam vestibulum id lorem at consectetur. Fusce non
                    ante et nulla semper varius ut ac eros. Vivamus id posuere nunc, eget molestie quam. Aliquam erat
                    volutpat. Donec pharetra mi justo, scelerisque sagittis libero mollis at. Quisque quis turpis
                    lectus. Suspendisse tristique, nunc a ultricies elementum, est velit tempor est, et tempor nunc
                    turpis at justo.
                </p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
